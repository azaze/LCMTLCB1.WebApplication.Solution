@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = Resource.e_Quick_Search;
}
@using LCMTLCB1WebApplication.Resources
@model BookingViewModel



<div class="container">

    @*-------------------------------------------------------*@
    @*-------------------------------------------------------*@
    @*--------------------Start Here-------------------------*@
    @*-------------------------------------------------------*@
    @*-------------------------------------------------------*@


    <br />  <br />  
    @if (Model.status != "OK")
    {
        <div class="row eterminalBody">
            <div class="col-md-2 col-lg-2">
            </div>
            <div class="col-md-8 col-lg-8">
                <div class="row" style="background-color:#F9F9F9">
                    <div class="col-md-2 col-lg-2">
                    </div>


                    <div class="col-md-8 col-lg-8  txtCenter">
                        <br />  <br />  <br />
                        @(Model.msg)
                        <br />  <br />  <br />
                    </div>


                    <div class="col-md-2 col-lg-2">
                    </div>
                </div>
            </div>
            <div class="col-md-2 col-lg-2">
            </div>

        </div>
    }
    else
    {
        <div class="row" >


            <div class="col-md-2 col-lg-2">
            </div>
            <div class="col-md-8 col-lg-8 dv-Head-bar">
                <div class="row"  >
                    <div class="col-md-8 col-lg-8">
                        <div class="form-group row">
                            <label class="col-sm-12 col-form-label txtLeft">Booking Number: @Model.booking.ordernumber </label>
                             
                        </div>
                    </div>
                    <div class="col-md-4 col-lg-4">
                  
                    <div class="col-lg-12 txtRight">
                         <label class="col-sm-12 col-form-label txtRight"> As of @DateTime.Now.ToString("dd/MM/yyyy HH:mm") </label>
                    </div>
                
            </div>
                </div>
            </div>
            <div class="col-md-2 col-lg-2">

            </div>

        </div>

        <div class="row eterminalBody">
            <div class="col-md-2 col-lg-2">
            </div>
            <div class="col-md-8 col-lg-8">
               
                <div class="row" style="background-color:#F9F9F9">
                    <div class="col-md-4 col-lg-4">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label txtRight h5">Date/Time:</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <label id="txtType" class="col-form-label">@(string.Format("{0:dd/MM/yyyy - HH:mm}", Model.booking.orderdate))</label>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-2 col-lg-2">
                    </div>
                    <div class="col-md-2 col-lg-2">
                    </div>
                    <div class="col-md-2 col-lg-2">
                    </div>
                    <div class="col-md-2 col-lg-2">
                    </div>

                </div>
            </div>
            <div class="col-md-2 col-lg-2">
            </div>

        </div>
        <div class="row eterminalBody">
            <div class="col-md-2 col-lg-2">
            </div>
            <div class="col-md-8 col-lg-8">
                <div class="row" style="background-color:#F9F9F9">
                    <div class="col-md-4 col-lg-4">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label txtRight">Status:</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <label id="txtRemark" class="col-form-label">@(Model.booking.remark == "EXE" ? "Excuted" : Model.booking.remark == "ACT" ? "Active" : Model.booking.remark == "RGS" ? "Register" : "-")</label>

                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-2 col-lg-2">
                    </div>
                    <div class="col-md-2 col-lg-2">
                    </div>
                    <div class="col-md-2 col-lg-2">
                    </div>
                    <div class="col-md-2 col-lg-2">
                    </div>

                </div>
            </div>
            <div class="col-md-1 col-lg-1">
            </div>
        </div>
        <div class="row eterminalBody">
           <div class="col-md-2 col-lg-2">
            </div>
            <div class="col-md-8 col-lg-8" style="background-color:#F9F9F9">

                <table id="grid" style="width:100%">
                    <tr style="background-color:darkgrey">
                        <td class="col-sm-4 col-form-label txtRight " style="color:#000;width:120px;">Summary:Type</td>
                        <td class="col-sm-4 col-form-label txtCenter " style="color:#000">Register (RGS)</td>
                        <td class="col-sm-4 col-form-label txtCenter " style="color:#000">Active (ACT)</td>
                        <td class="col-sm-4 col-form-label txtCenter " style="color:#000"> Executed (EXE)</td>
                        <td class="col-sm-4 col-form-label txtCenter " style="color:#000">Total</td>
                    </tr>
                    <tr class="txtCenter">
                        <td><label class="col-sm-4 col-form-label txtRight h5" style="width:120px;">Summary In:</label></td>
                        <td><label id="txtSumInRGS" class="col-form-label">@Model.booking.unitlistAll.Where(x=>x.phase=="RGS" && x.sort=="IN").Count()</label></td>
                        <td><label id="txtSumInACT" class="col-form-label">@Model.booking.unitlistAll.Where(x=>x.phase=="ACT" && x.sort=="IN").Count()</label></td>
                        <td><label id="txtSumInEXE" class="col-form-label">@Model.booking.unitlistAll.Where(x=>x.phase=="EXE" && x.sort=="IN").Count()</label></td>
                        <td><label id="txtSumInTotal" class="col-form-label" style="width:90px;">@Model.booking.unitlistAll.Where(x=>x.sort=="IN").Count()</label></td>
                    </tr>
                    <tr class="txtCenter">
                        <td><label class="col-sm-4 col-form-label txtRight h5" style="width:120px;"> Out:</label></td>
                        <td><label id="txtSumOutRGS" class="col-form-label">@Model.booking.unitlistAll.Where(x=>x.phase=="RGS" && x.sort=="OUT").Count()</label></td>
                        <td><label id="txtSumOutACT" class="col-form-label">@Model.booking.unitlistAll.Where(x=>x.phase=="ACT" && x.sort=="OUT").Count()</label></td>
                        <td><label id="txtSumOutEXE" class="col-form-label">@Model.booking.unitlistAll.Where(x=>x.phase=="EXE" && x.sort=="OUT").Count()</label></td>
                        <td><label id="txtSumOutTotal" class="col-form-label" style="width:90px;">@Model.booking.unitlistAll.Where(x=>x.sort=="OUT").Count()</label></td>
                    </tr>
                </table>


            </div>
            <div class="col-md-2 col-lg-2">
            </div>
        </div>



        <br />
        <div class="row eterminalBody">
            <div class="col-md-4 col-lg-4">
            </div>

            <div class="col-md-4 col-lg-4" style="background-color:#ffffff">
                <div class="row">

                    <div class="col-md-2 col-lg-12">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label txtRight h5">Abbreviate :</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <label id="txtAbbreviate" class="col-form-label">Out from LCB1</label>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>

                <div class="row">

                    <div class="col-md-2 col-lg-12">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label txtRight h5">ACT :</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <label id="txtSubACT" class="col-form-label">This transaction has begin process</label>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">

                    <div class="col-md-2 col-lg-12">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label txtRight h5">EXE :</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <label id="txtSubEXE" class="col-form-label">This transaction has done</label>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">

                    <div class="col-md-2 col-lg-12">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label txtRight h5">RGS :</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <label id="txtSubRGS" class="col-form-label">This transaction is register</label>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">

                    <div class="col-md-2 col-lg-12">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label txtRight h5">TR :</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <label id="txtSubTR" class="col-form-label">By Truck</label>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">

                    <div class="col-md-2 col-lg-12">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label txtRight h5">E :</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <label id="txtSubE" class="col-form-label">Empty Container</label>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="row">

                    <div class="col-md-2 col-lg-12">
                        <div class="form-group row">
                            <label class="col-sm-4 col-form-label txtRight h5">F :</label>
                            <div class="col-sm-8">
                                <div class="input-group">
                                    <label id="txtSubF" class="col-form-label">Full Container</label>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
            <div class="col-md-4 col-lg-4">
            </div>
        </div> <br />
        <div class="row eterminalBody">
            <div class="box-body">
                <div class="row">

                    <div class="col-lg-12">
                        <table id="grid" name="grid" class="table table-striped table-bordered" style="background-color:#fff;">
                            <thead>
                                <tr>
                                    <th class="col-lg-no">No.</th>
                                    <th class="col-lg-1">In/Out</th>
                                    <th class="col-lg-1">F/E</th>
                                    <th class="col-lg-1">Status</th>
                                    <th class="col-lg-1">Date-Time</th>
                                    <th class="col-lg-1">Container No</th>
                                    <th class="col-lg-1">Transport</th>
                                    <th class="col-lg-1">L</th>
                                    <th class="col-lg-1">H</th>
                                    <th class="col-lg-1">Type </th>
                                    <th class="col-lg-1"> Paid</th>
                                    <th class="col-lg-1">Valid Until</th>
                                </tr>
                            </thead>
                            @if (Model.booking.unitlist.Count > 0)
                            {
                                <tbody>
                                    @foreach (var a in Model.booking.unitlist)
                                    {
                                        <tr>
                                            <td>@a.rowId</td>
                                            <td>@a.sort</td>
                                            <td>@a.loadingstatus</td>
                                            <td>@a.phase</td>
                                            <td>@string.Format("{0:dd/MM/yyyy - HH:mm}", a.outtime)  </td>
                                            <td>@a.containerid</td>
                                            <td>@a.trans.Split('-')[1]</td>
                                            <td>@a.containerlength.ToString("#,###,##0.0")</td>
                                            <td>@a.containerheight.ToString("#,###,##0.0")</td>
                                            <td>@a.containertype</td>
                                            <td>@a.paid</td>
                                            <td>@(a.datepaid==null?"-": string.Format("{0:dd/MM/yyyy - HH:mm}", a.datepaid))</td>
                                        </tr>
                                    }
                                </tbody>
                            }
                            else
                            {
                                <tbody>
                                    <tr>
                                        <td colspan="12"> No data found. </td>

                                    </tr>
                                </tbody>
                            }
                        </table>
                    </div>
                </div>

            </div>
        </div>
        <div class="row">


            <div class="col col-lg-2">
               <div class="form-group row">
                    <label class="col-sm-5  ">PageSize: </label>
                    <div class="col-sm-7">
                        <div class="input-group">
                             <select id="ddlPageSize" class="form-select form-select-sm-LCMT" asp-items="ViewBag.PageSize"></select>
                        </div>
                    </div>
                </div>
                
            </div>
            <div class="col col-lg-10">
                <div style="padding-left:20px;vertical-align:middle !important;padding-top:2px">
                    <div class="paginator" items="@Model.paging.items" itemsOnPage="@Model.paging.itemsOnPage" pageNumber="@Model.paging.pageNumber"></div>
                </div>
            </div>


        </div>
    }
    <br />

</div>

<script type="text/javascript">




</script>
